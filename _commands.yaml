remoteUser: root
remoteHost: "158.220.119.161"
idRsaPath: "C:\\Users\\Jakob.Ferber\\.ssh\\id_rsa"
variables:
  frontend: "/opt/promosng/bin/app-service/modules/"
  backend: "/opt/promosng/bin/batservice/"
  quasar: "C:\\Users\\Jakob.Ferber\\Documents\\Git\\batool"
  executable: "C:\\Users\\Jakob.Ferber\\Downloads\\bat-service_v0.0.2_linux_amd64 (1).bin"
  spa: "{{quasar}}\\dist\\spa"
cmds:
  scp:
    cmd: scp
    type: exec
    params: 1
  scpFolder:
    cmd: scp
    type: exec
    args:
      - "-r"
    params: 1
  quasarBuild:
    cmd: "cmd"
    type: exec
    args:
      - "/C"
      - "cd /d %s && quasar build"
    params: 1
  mv:
    cmd: "mv"
    type: ssh
    args:
      - "%s%s"
      - "%s%s"
    params: 1
  chmodExecutable:
    cmd: "chmod"
    type: ssh
    args:
      - "+x"
      - "%s%s"
    params: 1
  chmodFolder:
    cmd: chmod
    type: ssh
    args:
      - "-R"
    params: 2
runCmds:
  - cmd: quasarBuild
    runIndex: 9
    params:
      - "{{quasar}}"
  - cmd: scpFolder
    runIndex: 1
    params:
      - "{{spa}}"
      - "{{remoteUser}}@{{remoteHost}}:{{frontend}}"
  - cmd: mv
    runIndex: 1
    params:
      - "{{frontend}}"
      - "_batool"
      - "{{frontend}}"
      - "__batool"
  - cmd: mv
    runIndex: 1
    params:
      - "{{frontend}}"
      - "batool"
      - "{{frontend}}"
      - "_batool"
  - cmd: mv
    runIndex: 1
    params:
      - "{{frontend}}"
      - "spa"
      - "{{frontend}}"
      - "batool"

  - cmd: chmodFolder
    runIndex: 1
    params:
      - "755"
      - "{{frontend}}batool"
  - cmd: scp
    runIndex: 2
    params:
      - "{{executable}}"
      - "{{remoteUser}}@{{remoteHost}}:{{frontend}}"
  - cmd: mv
    runIndex: 2
    params:
      - "{{backend}}"
      - "_batservice"
      - "{{backend}}"
      - "__batservice"
  - cmd: mv
    runIndex: 2
    params:
      - "{{backend}}"
      - "batservice"
      - "{{backend}}"
      - "_batservice"
  - cmd: mv
    runIndex: 2
    params:
      - "{{backend}}"
      - "bat-service_v0.0.2_linux_amd64 (1).bin"
      - "{{backend}}"
      - "batservice"
  - cmd: chmodExecutable
    runIndex: 2
    params:
      - "{{backend}}"
      - "batservice"